# 闭包
## 什么事闭包
>MDN: 一个函数和对其周围状态的引用捆绑在一起，这样组合就是闭包。

>红宝书: 闭包是指有权访问另外一个函数作用域中的变量的函数。

## 请讲一下你对闭包的理解
### 口述部分
#### 理论
闭包是函数和在这个作用域的引用捆绑在一起形成的组合，且该函数有权限访问其他函数作用域内的变量。

#### 函数作用域？
1. 在JS中，变量的作用域是函数的作用域，函数在被使用之后作用域会被清理，内存会被回收
2. 闭包建立了可访问上级作用域的子函数，即使上级函数执行完毕，由于该子函数的存在而不会被销毁

#### 闭包解决了什么
闭包可以缓存上级作用域，“函数作用域”的束缚，外部可以访问函数内部的变量。

#### 日常闭包例子
- Ajax请求的成功回调
- 事件绑定的回调方法
- setTimeout的回调
- 函数内部返回另一个匿名函数

### 使用场景
#### 使用闭包模拟私有方法
JS中没有私有变量，可以用闭包进行模拟
```
const fn = (function() {
  const pNum = 100;
  return {
    getValue: function() {
      return pNum;
    }
  }
})();
const cFn = fn
cFn.getValue()
```
#### 柯里化函数
```
const xy = (x) => {
  return y => {
    return x * y
  }
}
xy(2)(2) // 4

function myCurry(func) {  
  return function curried(...args) {
    return args.length >= func.length ?
      func.call(this, ...args) :
      (...rest) => {
        return curried.call(this, ...args, ...rest);
      };
  };
}
```
## 涉及知识
- 函数作用域
- 内存回收机制
- 作用域继承
